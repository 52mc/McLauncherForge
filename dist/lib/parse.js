"use strict";var cheerio=require("cheerio"),Log=require("./log"),Map=Array.prototype.map;module.exports=function(r){var e=cheerio.load(r);return{getSupportVersion:function(){var r=[],t=e(".versions-wrapper .versions .links .li-version-list");return Map.call(t,function(t,a){var i={version:e("span",t).text(),subs:[]},n=e(".versions-info .text li",t);Map.call(n,function(r,t){var a=e("a",r);i.subs.push({version:e(r).text().replace(/[\t|\n]/g,""),url:0===a.length?"/":a.attr("href")})}),r.push(i)}),r},getForgeVersion:function(){var r=e("#downloadsTable"),t=[];return Map.call(e("tr",r),function(r,a){if(0!==a){var i=e("td",r),n=e("li",i[2]);t.push({version:e("ul > li",i[0])[0].children[0].data.replace(/[\t|\n]/g,""),date:e(i[1]).text(),changelog:e("i.classifier-changelog",n).parent().attr("href"),installer:e("i.classifier-installer",n).parent().next().attr("href"),installer_win:e("i.classifier-installer-win",n).parent().next().attr("href"),mdk:e("i.classifier-mdk",n).parent().next().attr("href"),universal:e("i.classifier-universal",n).parent().next().attr("href"),client:e("i.classifier-client",n).parent().next().attr("href"),server:e("i.classifier-server",n).parent().next().attr("href"),src:e("i.classifier-src",n).parent().next().attr("href"),javadoc:e("i.classifier-javadoc",n).parent().next().attr("href")})}}),t}}};
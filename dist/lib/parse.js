"use strict";var cheerio=require("cheerio"),Log=require("./log"),Map=Array.prototype.map;module.exports=function(e){var r=cheerio.load(e);return{getSupportVersion:function(){var e=[],t=r(".versions-wrapper .versions .links .li-version-list");return Map.call(t,function(t,a){var n={version:r("span",t).text(),subs:[]},i=r(".versions-info .text li",t);Map.call(i,function(e,t){var a=r("a",e);n.subs.push({version:r(e).text().replace(/[\t|\n]/g,""),url:0===a.length?"/":a.attr("href")})}),e.push(n)}),e},getForgeVersion:function(){var e=r("#downloadsTable"),t=[];return Map.call(r("tr",e),function(e,a){if(0!==a){var n=r("td",e),i=r("li",n[2]);t.push({version:r("ul > li",n[0])[0].children[0].data.replace(/[\t|\n]/g,""),date:r(n[1]).text(),changelog:r("a",i.eq(0)).eq(0).attr("href"),installer:r("a",i.eq(1)).eq(1).attr("href"),installer_win:r("a",i.eq(2)).eq(1).attr("href"),mdk:r("a",i.eq(3)).eq(1).attr("href"),universal:r("a",i.eq(4)).eq(1).attr("href")})}}),t}}};